import { getNextDrawDate, formatThaiDrawLabel } from '../utils/lottoDateUtils';

export const LOTTO_DRAWS = [
    {
        id: 'mar-1-2026',
        date: '2026-03-01',
        label: 'à¸‡à¸§à¸” 1 à¸¡à¸µà¸™à¸²à¸„à¸¡ 2569',
        kpi: {
            historical: '36',
            sources: '3, 7',
            trending: '19'
        },
        historical: {
            labels: ['36', '19', '73', '50', '42'],
            data: [4, 3, 2, 2, 1],
            context: 'à¸ªà¸–à¸´à¸•à¸´à¸¢à¹‰à¸­à¸™à¸«à¸¥à¸±à¸‡ 22 à¸›à¸µ à¸‡à¸§à¸” 1 à¸¡à¸µ.à¸„.'
        },
        sources: [
            {
                name: 'à¹„à¸—à¸¢à¸£à¸±à¸',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸¡à¸‡à¸„à¸¥à¸•à¹‰à¸™à¹€à¸”à¸·à¸­à¸™',
                color: 'green',
                numbers: ['3', '7', '6', '1', '9']
            },
            {
                name: 'à¹€à¸”à¸¥à¸´à¸™à¸´à¸§à¸ªà¹Œ',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸”à¸²à¸§à¸žà¸¤à¸«à¸±à¸ª',
                color: 'pink',
                numbers: ['7', '3', '5', '0', '2']
            },
            {
                name: 'à¸šà¸²à¸‡à¸à¸­à¸à¸—à¸¹à¹€à¸”à¸¢à¹Œ',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸§à¸±à¸™à¹€à¸ªà¸²à¸£à¹Œ',
                color: 'blue',
                numbers: ['3', '6', '9', '1', '4']
            }
        ],
        trends: {
            labels: ['à¹€à¸¥à¸‚à¸¡à¸‡à¸„à¸¥à¸¡à¸µ.à¸„. (36/63)', 'à¹€à¸¥à¸‚à¸§à¸±à¸™à¸¡à¸²à¸†à¸šà¸¹à¸Šà¸² (19)', 'à¹€à¸¥à¸‚à¸”à¸²à¸§à¸žà¸¤à¸«à¸±à¸ª (73)', 'à¸­à¸·à¹ˆà¸™à¹†'],
            data: [40, 30, 20, 10],
            colors: ['#ef4444', '#f97316', '#eab308', '#9ca3af'],
            items: [
                { label: 'ðŸ”¥ à¹€à¸¥à¸‚à¸¡à¸‡à¸„à¸¥à¸›à¸£à¸°à¸ˆà¸³à¹€à¸”à¸·à¸­à¸™ à¸¡à¸µ.à¸„. (36, 63)', rank: 1 },
                { label: 'ðŸ™ à¹€à¸¥à¸‚à¸§à¸±à¸™à¸¡à¸²à¸†à¸šà¸¹à¸Šà¸² (19, 91)', rank: 2 },
                { label: 'â­ à¹€à¸¥à¸‚à¸”à¸²à¸§à¸žà¸¤à¸«à¸±à¸ªà¸„à¸£à¸­à¸‡à¹€à¸£à¸·à¸­à¸™ (73, 37)', rank: 3 }
            ]
        },
        luckyPool: [
            '36', '36', '36',
            '19', '91', '37', '73',
            '63', '50', '42',
            '07', '03', '69'
        ],
        conclusion: {
            statistical: {
                title: 'à¹€à¸¥à¸‚à¹€à¸”à¹ˆà¸™à¹€à¸Šà¸´à¸‡à¸ªà¸–à¸´à¸•à¸´à¸ªà¸¹à¸‡à¸ªà¸¸à¸”',
                icon: 'ðŸ“Š',
                numbers: [
                    { num: '36', reason: 'à¸­à¸­à¸à¸‹à¹‰à¸³à¸¡à¸²à¸à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ 1 à¸¡à¸µ.à¸„.' },
                    { num: '19', reason: 'à¸­à¸­à¸à¸šà¹ˆà¸­à¸¢à¸­à¸±à¸™à¸”à¸±à¸š 2 à¹ƒà¸™à¸‡à¸§à¸”à¸§à¸±à¸™à¹€à¸ªà¸²à¸£à¹Œ' },
                    { num: '73', reason: 'à¹€à¸¥à¸‚à¹€à¸”à¹ˆà¸™à¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¹€à¸”à¸·à¸­à¸™à¸¡à¸µà¸™à¸²à¸„à¸¡' }
                ]
            },
            eventDriven: {
                title: 'à¹€à¸¥à¸‚à¸ˆà¸²à¸à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™',
                icon: 'ðŸ”¥',
                numbers: [
                    { num: '193', reason: 'à¸§à¸±à¸™à¸¡à¸²à¸†à¸šà¸¹à¸Šà¸² 2569 - à¹€à¸¥à¸‚à¹à¸£à¸‡à¸›à¸£à¸°à¸ˆà¸³à¸‡à¸§à¸”' },
                    { num: '37', reason: 'à¹€à¸¥à¸‚à¸£à¸«à¸±à¸ªà¸ à¸²à¸„ à¸‚à¹ˆà¸²à¸§à¸”à¸±à¸‡à¸›à¸£à¸°à¸ˆà¸³à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ' },
                    { num: '69', reason: 'à¹€à¸¥à¸‚à¸”à¸±à¸‡à¹‚à¸‹à¹€à¸Šà¸µà¸¢à¸¥ - à¸à¸£à¸°à¹à¸ª TikTok' }
                ]
            },
            consensus: {
                title: 'à¹€à¸¥à¸‚à¸‰à¸±à¸™à¸—à¸²à¸¡à¸•à¸´à¸ˆà¸²à¸à¸ªà¸³à¸™à¸±à¸à¸”à¸±à¸‡',
                icon: 'ðŸ¤',
                numbers: [
                    { num: '3', reason: 'à¸Šà¸™à¸à¸±à¸™à¹ƒà¸™ 4 à¸ªà¸³à¸™à¸±à¸à¸”à¸±à¸‡ + à¸ªà¸–à¸´à¸•à¸´à¹€à¸ªà¸²à¸£à¹Œ' },
                    { num: '7', reason: 'à¸¢à¸·à¸™à¸¢à¸±à¸™à¸ˆà¸²à¸à¹€à¸ˆà¹Šà¸Ÿà¸­à¸‡à¹€à¸šà¸µà¸¢à¸£à¹Œà¹à¸¥à¸°à¸«à¸¡à¸­à¸›à¸¥à¸²à¸¢' },
                    { num: '36', reason: 'à¹à¸¡à¹ˆà¸™à¹‰à¸³à¸«à¸™à¸¶à¹ˆà¸‡ + à¸­.à¹€à¸”à¸Š + à¸›à¸à¸´à¸—à¸´à¸™à¸ˆà¸µà¸™' }
                ]
            },
            finalPicks: {
                twoDigit: ['36', '19', '73', '37', '63', '07'],
                threeDigit: ['193', '369', '736', '319', '073']
            }
        }
    },
    {
        id: 'feb-1-2026',
        date: '2026-02-01',
        label: 'à¸‡à¸§à¸” 1 à¸à¸¸à¸¡à¸ à¸²à¸žà¸±à¸™à¸˜à¹Œ 2569',
        kpi: {
            historical: '53',
            sources: '1, 4',
            trending: '67'
        },
        historical: {
            labels: ['53', '85', '92', '98', '88'],
            data: [3, 2, 2, 2, 1],
            context: 'à¸ªà¸–à¸´à¸•à¸´à¸¢à¹‰à¸­à¸™à¸«à¸¥à¸±à¸‡ 10 à¸›à¸µ'
        },
        sources: [
            {
                name: 'à¹„à¸—à¸¢à¸£à¸±à¸',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸—à¸´à¸¨à¹€à¸«à¸™à¸·à¸­',
                color: 'green',
                numbers: ['1', '4', '8', '3', '2']
            },
            {
                name: 'à¹€à¸”à¸¥à¸´à¸™à¸´à¸§à¸ªà¹Œ',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸§à¸±à¸™',
                color: 'pink',
                numbers: ['4', '5', '1', '6', '9']
            },
            {
                name: 'à¸šà¸²à¸‡à¸à¸­à¸à¸—à¸¹à¹€à¸”à¸¢à¹Œ',
                theme: 'à¹€à¸™à¹‰à¸™à¹€à¸¥à¸‚à¸¡à¸‡à¸„à¸¥',
                color: 'blue',
                numbers: ['1', '4', '7', '0', '5']
            }
        ],
        trends: {
            labels: ['à¹€à¸¥à¸‚à¸›à¸µ (67/24)', 'à¹€à¸¥à¸‚à¸•à¸£à¸¸à¸©à¸ˆà¸µà¸™ (08/10)', 'à¹€à¸¥à¸‚à¸—à¸°à¹€à¸šà¸µà¸¢à¸™ (30)', 'à¸­à¸·à¹ˆà¸™à¹†'],
            data: [45, 30, 15, 10],
            colors: ['#ef4444', '#f97316', '#eab308', '#9ca3af'],
            items: [
                { label: 'ðŸ”¥ à¹€à¸¥à¸‚à¸›à¸µà¸ž.à¸¨. (67, 24)', rank: 1 },
                { label: 'ðŸ§§ à¹€à¸¥à¸‚à¸§à¸±à¸™à¸•à¸£à¸¸à¸©à¸ˆà¸µà¸™ (08, 10)', rank: 2 },
                { label: 'ðŸš— à¹€à¸¥à¸‚à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸£à¸– (30, 03)', rank: 3 }
            ]
        },
        luckyPool: [
            '53', '53', '53',
            '14', '41', '15', '51',
            '67', '24', '08',
            '92', '85', '30'
        ],
        conclusion: {
            statistical: {
                title: 'à¹€à¸¥à¸‚à¹€à¸”à¹ˆà¸™à¹€à¸Šà¸´à¸‡à¸ªà¸–à¸´à¸•à¸´à¸ªà¸¹à¸‡à¸ªà¸¸à¸”',
                icon: 'ðŸ“Š',
                numbers: [
                    { num: '09', reason: 'à¸­à¸­à¸à¸‹à¹‰à¸³à¸šà¹ˆà¸­à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ 1 à¸.à¸ž.' },
                    { num: '06', reason: 'à¸­à¸­à¸à¸šà¹ˆà¸­à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸‡à¸§à¸”à¸§à¸±à¸™à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ' },
                    { num: '04', reason: 'à¸­à¸­à¸à¸šà¹ˆà¸­à¸¢à¸­à¸±à¸™à¸”à¸±à¸š 2 à¹ƒà¸™à¸§à¸±à¸™à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ' }
                ]
            },
            eventDriven: {
                title: 'à¹€à¸¥à¸‚à¸ˆà¸²à¸à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸“à¹Œà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™',
                icon: 'ðŸ”¥',
                numbers: [
                    { num: '411', reason: 'à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸šà¸´à¸™à¸•à¸à¸ˆà¸­à¸¡à¸—à¸­à¸‡ - à¹€à¸¥à¸‚à¹à¸£à¸‡à¸ªà¸¸à¸”' },
                    { num: '41', reason: 'à¸£à¸«à¸±à¸ªà¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸šà¸´à¸™' },
                    { num: '08', reason: 'à¸§à¸±à¸™à¹€à¸¥à¸·à¸­à¸à¸•à¸±à¹‰à¸‡ 8 à¸.à¸ž.' }
                ]
            },
            consensus: {
                title: 'à¹€à¸¥à¸‚à¸‰à¸±à¸™à¸—à¸²à¸¡à¸•à¸´à¸ˆà¸²à¸à¸ªà¸³à¸™à¸±à¸à¸”à¸±à¸‡',
                icon: 'ðŸ¤',
                numbers: [
                    { num: '4', reason: 'à¸¢à¸·à¸™à¸¢à¸±à¸™à¸ˆà¸²à¸à¹€à¸ˆà¹Šà¸Ÿà¸­à¸‡à¹€à¸šà¸µà¸¢à¸£à¹Œà¹à¸¥à¸°à¹à¸¡à¹ˆà¸™à¹‰à¸³à¸«à¸™à¸¶à¹ˆà¸‡' },
                    { num: '1', reason: 'à¸Šà¸™à¸à¸±à¸™à¹ƒà¸™ 3 à¸ªà¸³à¸™à¸±à¸à¹ƒà¸«à¸à¹ˆ + à¸ªà¸–à¸´à¸•à¸´à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ' },
                    { num: '05', reason: 'à¸™à¹‰à¸­à¸‡à¹€à¸žà¸Šà¸£à¸à¸¥à¹‰à¸² + à¸›à¸à¸´à¸—à¸´à¸™à¸ˆà¸µà¸™' }
                ]
            },
            finalPicks: {
                twoDigit: ['41', '09', '14', '28', '06', '58'],
                threeDigit: ['107', '411', '345', '611', '546']
            }
        }
    },
    {
        id: 'jan-16-2026',
        date: '2026-01-16',
        label: 'à¸‡à¸§à¸” 16 à¸¡à¸à¸£à¸²à¸„à¸¡ 2569',
        isUpcoming: false,
        result: {
            first: '835492',
            lastTwo: '17',
            lastThree: ['492', '835']
        },
        kpi: {
            historical: '17',
            sources: '8, 3',
            trending: '92'
        }
    }
];

export const getUpcomingDraw = () => {
    const today = new Date().toISOString().split('T')[0];
    // Find first draw with date >= today
    const upcoming = LOTTO_DRAWS
        .filter(d => d.date >= today)
        .sort((a, b) => a.date.localeCompare(b.date))[0];

    if (upcoming) return upcoming;

    // Auto-generate if no matching draw
    const nextDate = getNextDrawDate();
    const months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];
    return {
        id: `${months[nextDate.getMonth()]}-${nextDate.getDate()}-${nextDate.getFullYear()}`,
        date: nextDate.toISOString().split('T')[0],
        label: formatThaiDrawLabel(nextDate),
        kpi: null
    };
};

export const getPastDraws = () => {
    const today = new Date().toISOString().split('T')[0];
    return LOTTO_DRAWS
        .filter(d => d.date < today)
        .sort((a, b) => b.date.localeCompare(a.date));
};

export const generateLuckyNumber = (pool) => {
    const luckyPool = pool || getUpcomingDraw()?.luckyPool || ['00', '11', '22', '33', '44', '55', '66', '77', '88', '99'];
    return luckyPool[Math.floor(Math.random() * luckyPool.length)];
};
